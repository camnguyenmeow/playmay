<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		 <link rel="stylesheet" href="css/index.css">
	</head>
	<body> 
		<div id="highscore"><button id="clsboard"> X </button>
			<div id="stt">
				<h5 style="color:#F37878;text-align: center;font-family: 'Righteous';font-weight: bolder;"> Highscore </h5>
			</div>
			<h3 id="yoursc"> </h3>
		</div>
		<div id="about" style="display: none;">
			<div style="width: 55%; text-align: left;">
				<h5 style = "font-weight: bolder;"> SÆ  Yáº¾U LÃ Lá»ŠCH</h5> <br>
				<ul class = "abtMay">ğŸ’› TÃªn: MÃ¢y 2 láº±n</ul>
				<ul class = "abtMay">ğŸ’› Giá»›i tÃ­nh: Nam </ul>
				<ul class = "abtMay">ğŸ’› Sá»Ÿ thÃ­ch: Cáº¯n ngÆ°á»i </ul>
				<ul class = "abtMay">ğŸ’› Sá»£: Má»i thá»©, trá»« con ngÆ°á»i  </ul><br>
				<button id="clsabout" onclick="abtme(0)"> ÄÃ“NG </button>
			</div>
		</div>
		<div id="htp" style="display: none;">
			<h5> CÃCH CHÆ I </h5>
			<ul  class = "abtMay"> MÃ¢y Ä‘ang ngá»§, nhá»¯ng ai Ä‘Ã£ tá»«ng bá»‹ nÃ³ cáº¯n hÃ£y nhÃ¢n cÆ¡ há»™i nÃ y Ä‘Ã¡nh nÃ³ tháº­t nhanh. <br> Náº¿u Ä‘Ã¡nh vÃ o lÃºc nÃ³ tá»‰nh dáº­y, nÃ³ sáº½ cáº¯n báº¡n Ä‘áº¥y</ul><br>
			<button id="clsabout" onclick="htp(0)"> ÄÃ“NG </button>
		</div>
		<div id="maindiv">
			<div class="wavy">
				<h1>
					<span style="--i:1">P</span>
					<span style="--i:2">L</span>
					<span style="--i:3">A</span>
					<span style="--i:4">Y</span>
					<span style="--i:5">&nbsp;</span>
					<span style="--i:6">M</span>
					<span style="--i:7">Ã‚</span>
					<span style="--i:8">Y</span>
				</h1>
			</div>
			<h4> "Äá»«ng Play Together, hÃ£y Play MÃ¢y" </h4><br>
			<button class="btnhome" onclick="abtme(1)"> MÃ¢y lÃ  ai ? </button>
			<button onclick="htp(1)" class="btnhome"> CÃ¡ch chÆ¡i </button>
			<button id = "opboard" class = "btnhome"> Highscore </button>
			<button class="btnhome" onclick=" location.href='play.html'"> Báº¯t Ä‘áº§u </button>
		</div>
		<script type="module">
		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
		import { getDatabase, ref, set, get, child, query, orderByValue } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js";
		const firebaseConfig = {
		apiKey: "AIzaSyBzKuL5L1QPydOXN6aey3GsycNZJLkj5vY",
		authDomain: "playmay.firebaseapp.com",
		databaseURL: "https://playmay-default-rtdb.asia-southeast1.firebasedatabase.app",
		projectId: "playmay",
		storageBucket: "playmay.appspot.com",
		messagingSenderId: "224075999052",
		appId: "1:224075999052:web:85d3bd0abbbde2b308d1e9"
		};
		const app = initializeApp(firebaseConfig);
		const db = getDatabase(app);
		const dbRef = ref(getDatabase(app));

var divboard = document.getElementById("highscore"), tmpdata,
					sttt = document.getElementById("stt");
				function loadboard() {
						tmpdata = [];


						get(child(dbRef, 'users/')).then((snapshot) => {
		if (snapshot.exists()) {
		Object.keys(snapshot.val()).forEach((key) => {
			tmpdata.push({'User':key, 'Score': snapshot.val()[key].score});
		});
		tmpdata.sort(function(a, b){return b.Score - a.Score});
			
		var cnt = 1;
		for (let i of tmpdata) {
			var tagg = document.createElement("h3");
			tagg.className="nameboard";
			tagg.innerHTML = cnt + ". "+i.User + "&nbsp;&nbsp;&nbsp;ğŸ’œ&nbsp;&nbsp;&nbsp;" + i.Score + "&nbsp;&nbsp;Ä‘iá»ƒm";
			sttt.appendChild(tagg);
			cnt++;
		}

		
		} else {
		console.log("No data available");
		}
		}).catch((error) => {
		console.error(error);
		});
	
				}

		document.getElementById('opboard').addEventListener('click', openboard);
		document.getElementById('clsboard').addEventListener('click', closeboard);
		function closeboard() {
					document.getElementById("highscore").style.display = 'none';
				}
		function openboard() {
					document.getElementById("highscore").style.display = 'block';
				}
				document.addEventListener('click', loadboard, {once: true})
	</script>
		<script src = "js/homepage.js"></script>
	</body>
	<footer>
		<a class="linkk" href = "https://github.com/camnguyenmeow">
			<img src="img/github.svg" class = "icon">
		</a>
		<a class="linkk" href = "https://www.facebook.com/camnguyenmeow">
			<img  src="img/facebook.svg" class = "icon">
		</a>
		<a class="linkk" href = "mailto:camnguyenmeow@gmail.com">
			<img  src="img/mail.svg" class = "icon">
		</a>
		<a class="linkk" href = "https://camnguyenmeow.github.io/">
			<img  src="img/web.svg" class = "icon">
		</a>
	</footer>
</html>
